apiVersion: jaegertracing.io/v1
kind: Jaeger
metadata:
  name: simple-prod
spec:
  strategy: production
  collector:
    maxReplicas: 5
    resources:
      limits:
        cpu: 1
        memory: 1280Mi
  ingress:
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    enabled: true
    hosts:
    - jaeger.dcp.bm.dev.aggregion.com
    # secretName: jaeger-prod-tls
    tls:
    - hosts:
      - jaeger.dcp.bm.dev.aggregion.com
      secretName: jaeger-prod-tls
  ui:
    options:
      dependencies:
        dagMaxNumServices: 200
        menuEnabled: true
      monitor:
        menuEnabled: true
      archiveEnabled: true
      tracking:
        gaID: UA-000000-2
        trackErrors: true
      menu:
      - label: About Jaeger
        items:
        - label: GitHub
          url: https://github.com/jaegertracing/jaeger
        - label: Docs
          url: http://jaeger.readthedocs.io/en/latest/
      search:
        maxLookback:
          label: 2 Days
          value: 2d
        maxLimit: 1500
      linkPatterns:
      - type: process
        key: jaeger.version
        url: https://github.com/jaegertracing/jaeger-client-java/releases/tag/#{jaeger.version}
        text: 'Information about Jaeger release #{jaeger.version}'
      - type: tags
        key: uniqueId
        url: https://mykibana.com/uniqueId=#{uniqueId}&traceId=#{trace.traceID}
        text: Redirect to kibana to view log
