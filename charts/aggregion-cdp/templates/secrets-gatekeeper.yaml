{{- if .Values.backend.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: "{{ include "cdp.gatekeeper.fullname" . }}-secrets"
  labels:
    {{- include "cdp.gatekeeper.labels" . | nindent 4 }}
type: Opaque
data:
  client-id: "{{ .Values.frontend.gatekeeper.configs.clientId | b64enc }}"
  client-secret: "{{ .Values.frontend.gatekeeper.configs.clientSecret | b64enc }}"
  discovery-url: "{{ .Values.frontend.gatekeeper.configs.discoveryUrl | b64enc }}"
  enable-default-deny: "{{ .Values.frontend.gatekeeper.configs.enableDefaultDeny | b64enc }}"
  enable-metrics: "{{ .Values.frontend.gatekeeper.configs.enableMetrics | b64enc }}"
  enable-refresh-tokens: "{{ .Values.frontend.gatekeeper.configs.enableRefreshTokens | b64enc }}"
  encryption-key: "{{ .Values.frontend.gatekeeper.configs.encryptionKey | b64enc }}"
  listen: "{{ .Values.frontend.gatekeeper.configs.listen | b64enc }}"
  listen-admin: "{{ .Values.frontend.gatekeeper.configs.listenAdmin | b64enc }}"
  no-redirects: "{{ .Values.frontend.gatekeeper.configs.noRedirects | b64enc }}"
  redirection-url: "{{ .Values.frontend.gatekeeper.configs.redirectionUrl | b64enc }}"
  upstream-url: "{{ .Values.frontend.gatekeeper.configs.upstreamUrl | b64enc }}"
{{- end }}
